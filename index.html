<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aimers Test Series | Secure Exam</title>
    <style>
        :root { --primary: #1e40af; --danger: #dc2626; --success: #059669; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f1f5f9; margin: 0; padding: 10px; user-select: none; }
        
        /* Fixed Header for Timer */
        #timer-banner { 
            position: fixed; top: 0; left: 0; width: 100%; 
            background: var(--danger); color: white; text-align: center; 
            padding: 15px; font-size: 24px; font-weight: bold; z-index: 9999; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .container { max-width: 600px; margin: 100px auto 30px; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 3px solid var(--primary); margin-bottom: 25px; padding-bottom: 10px; }
        
        /* Registration Section */
        .student-info { background: #eff6ff; padding: 20px; border-radius: 10px; margin-bottom: 25px; border: 1px solid #bfdbfe; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        input[type="text"], input[type="number"] { width: 100%; padding: 12px; border: 2px solid #cbd5e1; border-radius: 6px; box-sizing: border-box; font-size: 16px; }

        .question { background: #fff; border: 1px solid #e2e8f0; padding: 18px; border-radius: 10px; margin-bottom: 18px; }
        .q-text { font-size: 17px; font-weight: 700; display: block; margin-bottom: 12px; color: #1e293b; }
        
        .option-label { display: flex; align-items: center; padding: 12px; border: 1px solid #e2e8f0; border-radius: 6px; cursor: pointer; margin-bottom: 8px; transition: 0.2s; }
        .option-label:hover { background: #f8fafc; border-color: var(--primary); }
        input[type="radio"] { margin-right: 12px; width: 18px; height: 18px; }

        .submit-btn { width: 100%; padding: 20px; background: var(--success); color: white; border: none; border-radius: 8px; font-size: 22px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .submit-btn:hover { background: #047857; }
    </style>
</head>
<body oncontextmenu="return false;">

<div id="timer-banner">Time Remaining: <span id="clock">60:00</span></div>

<div class="container">
    <div class="header">
        <h1 style="margin:0; color:var(--primary);">AIMERS TEST SERIES</h1>
        <p style="margin:5px 0; color:#64748b;">Secure Online Examination Portal</p>
    </div>

    <div class="student-info">
        <div class="input-group">
            <label>Full Name:</label>
            <input type="text" id="studentName" placeholder="Enter your name">
        </div>
        <div class="input-group">
            <label>Registration Number (ID):</label>
            <input type="text" id="regNumber" placeholder="Enter Roll No/Reg No">
        </div>
    </div>

    <div id="quiz-area">
        <div class="question" data-ans="A">
            <span class="q-text">1. Find the derivative of y = x sin x:</span>
            <label class="option-label"><input type="radio" name="q1" value="A"> sin x + x cos x</label>
            <label class="option-label"><input type="radio" name="q1" value="B"> cos x</label>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">2. Simplify: log<sub>a</sub> b &times; log<sub>b</sub> c &times; log<sub>c</sub> a</span>
            <label class="option-label"><input type="radio" name="q2" value="A"> 0</label>
            <label class="option-label"><input type="radio" name="q2" value="B"> 1</label>
        </div>
        
        <div class="options">
                <label class="option-label"><input type="radio" name="q3" value="A"> 1/x<sup>2</sup></label>
                <label class="option-label"><input type="radio" name="q3" value="B"> 2/x</label>
                <label class="option-label"><input type="radio" name="q3" value="C"> 2x log x</label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">4. Value of log<sub>2</sub> 32:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q4" value="A"> 5</label>
                <label class="option-label"><input type="radio" name="q4" value="B"> 4</label>
                <label class="option-label"><input type="radio" name="q4" value="C"> 16</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">5. Differentiate y = e<sup>3x</sup>:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q5" value="A"> e<sup>3x</sup></label>
                <label class="option-label"><input type="radio" name="q5" value="B"> 3e<sup>3x</sup></label>
                <label class="option-label"><input type="radio" name="q5" value="C"> 1/3 e<sup>3x</sup></label>
            </div>
        </div>

        <div class="question" data-ans="C">
            <span class="q-text">6. Value of log<sub>10</sub> 1:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q6" value="A"> 10</label>
                <label class="option-label"><input type="radio" name="q6" value="B"> 1</label>
                <label class="option-label"><input type="radio" name="q6" value="C"> 0</label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">7. Derivative of (sin x) / x:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q7" value="A"> (x cos x - sin x) / x<sup>2</sup></label>
                <label class="option-label"><input type="radio" name="q7" value="B"> (sin x - x cos x) / x<sup>2</sup></label>
                <label class="option-label"><input type="radio" name="q7" value="C"> cos x</label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">8. If log<sub>x</sub> 64 = 3, then x is:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q8" value="A"> 4</label>
                <label class="option-label"><input type="radio" name="q8" value="B"> 8</label>
                <label class="option-label"><input type="radio" name="q8" value="C"> 2</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">9. Derivative of tan x:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q9" value="A"> sec x</label>
                <label class="option-label"><input type="radio" name="q9" value="B"> sec<sup>2</sup> x</label>
                <label class="option-label"><input type="radio" name="q9" value="C"> -sec<sup>2</sup> x</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">10. log m + log n = ?</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q10" value="A"> log(m+n)</label>
                <label class="option-label"><input type="radio" name="q10" value="B"> log(mn)</label>
                <label class="option-label"><input type="radio" name="q10" value="C"> log(m/n)</label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">11. Derivative of sqrt(x):</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q11" value="A"> 1 / 2sqrt(x)</label>
                <label class="option-label"><input type="radio" name="q11" value="B"> 2sqrt(x)</label>
                <label class="option-label"><input type="radio" name="q11" value="C"> 1/x</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">12. Value of 7<sup>log<sub>7</sub> 5</sup>:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q12" value="A"> 7</label>
                <label class="option-label"><input type="radio" name="q12" value="B"> 5</label>
                <label class="option-label"><input type="radio" name="q12" value="C"> 35</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">13. Derivative of cos(x<sup>2</sup>):</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q13" value="A"> -sin(x<sup>2</sup>)</label>
                <label class="option-label"><input type="radio" name="q13" value="B"> -2x sin(x<sup>2</sup>)</label>
                <label class="option-label"><input type="radio" name="q13" value="C"> 2x sin(x<sup>2</sup>)</label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">14. Simplify: log<sub>2</sub> 16 - log<sub>2</sub> 4</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q14" value="A"> 2</label>
                <label class="option-label"><input type="radio" name="q14" value="B"> 4</label>
                <label class="option-label"><input type="radio" name="q14" value="C"> 8</label>
            </div>
        </div>

        <div class="question" data-ans="C">
            <span class="q-text">15. Derivative of a constant:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q15" value="A"> 1</label>
                <label class="option-label"><input type="radio" name="q15" value="B"> x</label>
                <label class="option-label"><input type="radio" name="q15" value="C"> 0</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">16. Derivative of 5<sup>x</sup>:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q16" value="A"> x.5<sup>x-1</sup></label>
                <label class="option-label"><input type="radio" name="q16" value="B"> 5<sup>x</sup> log 5</label>
                <label class="option-label"><input type="radio" name="q16" value="C"> 5<sup>x</sup></label>
            </div>
        </div>

        <div class="question" data-ans="A">
            <span class="q-text">17. If y = log(sin x), then dy/dx is:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q17" value="A"> cot x</label>
                <label class="option-label"><input type="radio" name="q17" value="B"> tan x</label>
                <label class="option-label"><input type="radio" name="q17" value="C"> cos x</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">18. Solve for x: 2 log x = log 9</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q18" value="A"> 4.5</label>
                <label class="option-label"><input type="radio" name="q18" value="B"> 3</label>
                <label class="option-label"><input type="radio" name="q18" value="C"> 9</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">19. Second derivative of x<sup>3</sup>:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q19" value="A"> 3x<sup>2</sup></label>
                <label class="option-label"><input type="radio" name="q19" value="B"> 6x</label>
                <label class="option-label"><input type="radio" name="q19" value="C"> 6</label>
            </div>
        </div>

        <div class="question" data-ans="B">
            <span class="q-text">20. Derivative of x<sup>x</sup>:</span>
            <div class="options">
                <label class="option-label"><input type="radio" name="q20" value="A"> x.x<sup>x-1</sup></label>
                <label class="option-label"><input type="radio" name="q20" value="B"> x<sup>x</sup>(1 + log x)</label>
                <label class="option-label"><input type="radio" name="q20" value="C"> x<sup>x</sup> log x</label>
            </div>
        </div>

        <button type="button" class="submit-btn" onclick="submitTest()">FINISH & SUBMIT TEST</button>
    </div>
        
      </div>  
        
        
        
        
        
        
        
        

        <p style="text-align:center; color:#94a3b8;">Add all 20 questions in this section...</p>

        <button type="button" class="submit-btn" id="finalSubmitBtn" onclick="submitTest()">SUBMIT MY TEST</button>
    </div>
</div>

<script>
    // 1. SETTINGS
    const MY_WHATSAPP_NUMBER = "91XXXXXXXXXX"; // +916287609834
    let timeLeft = 3600; // 60 minutes
    let testEnded = false;

    // 2. TIMER ENGINE
    const clockDisplay = document.getElementById('clock');
    const timerInterval = setInterval(() => {
        if (testEnded) return;

        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        
        clockDisplay.innerText = ${minutes}:${seconds < 10 ? '0' : ''}${seconds};

        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            submitTest("TIME_EXPIRED");
        }
        timeLeft--;
    }, 1000);

    // 3. SECURITY: ANTI-CHEATING TAB SWITCH
    document.addEventListener("visibilitychange", () => {
        if (document.hidden && !testEnded) {
            alert("TAB SWITCH DETECTED! Test will be auto-submitted now.");
            submitTest("SECURITY_VIOLATION_AUTO_SUBMIT");
        }
    });

    // 4. RESULT CALCULATION & SUBMIT
    function submitTest(status = "MANUAL_SUBMIT") {
        if (testEnded) return;

        const name = document.getElementById('studentName').value.trim();
        const reg = document.getElementById('regNumber').value.trim();

        // Validation only if manual submit
        if (status === "MANUAL_SUBMIT" && (name === "" || reg === "")) {
            alert("Please enter Name and Registration Number!");
            return;
        }

        testEnded = true;
        clearInterval(timerInterval);

        let score = 0;
        const totalQuestions = document.querySelectorAll('.question').length;
        
        document.querySelectorAll('.question').forEach((q, i) => {
            const selected = document.querySelector(input[name="q${i+1}"]:checked)?.value;
            if (selected === q.dataset.ans) score++;
        });

        // Report Drafting
        const report = *Aimers Test Report*%0A------------------------%0A*Name:* ${name || "N/A"}%0A*Reg No:* ${reg || "N/A"}%0A*Score:* ${score}/${totalQuestions}%0A*Reason:* ${status};
        
        // UI Update
        document.body.innerHTML = `
            <div style="text-align:center; padding:50px; font-family:sans-serif;">
                <h1 style="color:var(--success);">âœ… Test Submitted!</h1>
                <p>Redirecting to WhatsApp for final submission...</p>
                <div style="font-size:50px;">ðŸš€</div>
            </div>`;

        // Action: WhatsApp Redirect
        const waLink = https://wa.me/${MY_WHATSAPP_NUMBER}?text=${report};
        window.location.href = waLink;
    }
</script>
</body>
</html>